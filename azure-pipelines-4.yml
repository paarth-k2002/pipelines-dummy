trigger:
- main

pool:
  vmImage: ubuntu-latest

stages:
- stage: Build
  jobs:
  - job: Build
    steps:
    - script: |
        echo "Building..."
        sleep 60  # Adding a 60-second wait to simulate build time
      displayName: 'Build step'

- stage: Deploy
  dependsOn: Build
  jobs:
  - deployment: deploy
    displayName: 'Deploy to Environment'
    environment: Para1
    strategy:
      runOnce:
        deploy:
          steps:
            - script: |
                echo "Deployment job running"
                sleep 60  # Add delay to simulate deployment
              displayName: 'Deploy Job'

- stage: Exit
  dependsOn: Deploy
  jobs:
  - job: Exit
    steps:
    - script: |
        echo "Exiting after deployment"
      displayName: 'Exit step'
